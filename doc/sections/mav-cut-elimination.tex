\section{Semantic Cut-Elimination and Proof Normalisation}
\label{sec:mav-cut-elimination}

\newcommand{\ChuEmbed}{\eta^c}
\newcommand{\ClosedLowerEmbed}{\eta^+}
\newcommand{\LowerEmbed}{\eta}

Let $\Chu(\ClosedLowerSet{\textsc{CFMav}}, \ClosedDay{I})$ be the
MAV-algebra constructed from the Cut-free proof MAV-frame (Proposition
\ref{prop:cfmav-frame}), where elements are positive/negative pairs of
$+$-closed lower sets of formulas. We define the valuation of atoms as
$V(\alpha) = \ChuEmbed(\ClosedLowerEmbed(\vDual{\alpha}))$. By Theorem
\ref{thm:soundness}, we have an interpretation of SMAV formulas
$\sem{P}$ such that if $P \longrightarrow^* I$, then $I \leq
sem{P}$. We now prove our main proposition about the MAV-algebra
\textsc{CFMav} that will allow us to derive the admissibility of Cut
and all the other symmetric rules of SMAV.

\begin{proposition}\label{prop:embedding-sem}
  $\sem{P} \leq \lnot (\ChuEmbed(\ClosedLowerEmbed(P)))$
\end{proposition}

\begin{proof}
  By the definition of the Chu construction, this statement breaks
  down into two inclusions between pairs of $+$-closed lower sets:
  \begin{enumerate}
  \item $\ClosedLowerEmbed(P) \subseteq \sem{\vP}^-$
  \item $\sem{\vP}^+ \subseteq \ClosedLowerEmbed(P) \rightblackspoon^+ \ClosedDay{I}$
  \end{enumerate}
  We prove the second assuming the first. It suffices to prove that
  $\sem{\vP}^+ \ClosedDay{\bullet} \ClosedLowerEmbed(P) \leq
  \ClosedDay{I}$, which follows from the first part and the property
  of all Chu-elements that
  $\sem{\vP}^+ \ClosedDay{\bullet} \sem{\vP}^- \leq \ClosedDay{I}$.

  We prove the first part by induction on $P$. In the cases when
  $P = \vUnit$ or $P = \vDual{\alpha}$, we already have
  $\sem{P}^- = \ClosedLowerEmbed(P)$. When $P = \alpha$, we have
  $\sem{\alpha}^- = \ClosedLowerEmbed(\vDual{\alpha})
  \rightblackspoon^+ \ClosedDay{I}$. It suffices to prove that
  $\ClosedLowerEmbed(\alpha) \ClosedDay{\bullet}
  \ClosedLowerEmbed(\vDual{\alpha}) \leq \ClosedDay{I}$, which follows
  from the preservation of monoids by $\ClosedLowerEmbed$ and the
  \RuleLabel{Axiom} rule of MAV.

  When $P = Q \vParr R$, $Q \vWith R$, or $Q \vSeq R$, the result
  follows from preservation of the corresponding monoid structure by
  $\ClosedLowerEmbed$. For example,
  $\ClosedLowerEmbed(Q \vParr R) \leq \ClosedLowerEmbed(Q)
  \ClosedDay{\bullet} \ClosedLowerEmbed(R) \leq \sem{Q}^-
  \ClosedDay{\bullet} \sem{R}^- = \sem{Q \vParr R}^-$.

  When $P = Q \vPlus R$, we have
  $\ClosedLowerEmbed(Q \vPlus R) \leq \ClosedLowerEmbed(Q)$ and
  $\ClosedLowerEmbed(Q \vPlus R) \leq \ClosedLowerEmbed(R)$, by the
  \RuleLabel{Left} and \RuleLabel{Right} rules. Therefore,
  $\ClosedLowerEmbed(Q \vPlus R) \leq \ClosedLowerEmbed(Q) \lor
  \ClosedLowerEmbed(R) \leq \sem{Q}^- \lor \sem{R}^- = \sem{Q \vPlus
    R}^-$.

  When $P = Q \vTens R$, we have
  $\sem{Q \vTens R}^- = (\sem{Q}^+ \rightblackspoon \sem{R}^-) \land
  (\sem{R}^+ \rightblackspoon \sem{Q}^-)$. We prove inclusion in the
  left-hand side, the right-hand side is similar. The key property we need to prove is:
  \begin{equation}\label{eq:interaction-leq}
    \ClosedLowerEmbed(Q \vTens R) \ClosedDay{\bullet} (\ClosedLowerEmbed(Q) \rightblackspoon^+ \ClosedDay{I})
    \leq
    \ClosedLowerEmbed(R)
  \end{equation}
  Using the monoidality and monotonicity of $\alpha$, this property is
  implied by the following property in lower sets
  $\LowerSet{\textsc{CFMav}}$:
  \begin{displaymath}
    \LowerEmbed(Q \vTens R) \Day{\bullet} (U(\ClosedLowerEmbed(Q)) \rightblackspoon \Day{I})
    \leq
    \LowerEmbed(R)
  \end{displaymath}
  which follows from the \RuleLabel{Switch} rule of MAV and
  calculation. Using Inequation \ref{eq:interaction-leq}, and property
  (ii) above, we can prove the inequality we need:
  \begin{displaymath}
    \ClosedLowerEmbed(Q \vTens R) \ClosedDay{\bullet} \sem{Q}^+
    \leq
    \ClosedLowerEmbed(Q \vTens R) \ClosedDay{\bullet} (\ClosedLowerEmbed(Q) \rightblackspoon^+ \ClosedDay{I})
    \leq
    \ClosedLowerEmbed(R)
    \leq
    \sem{R}^-
  \end{displaymath}
  Using the residuation property of $\ClosedDay{\bullet}$ we can conclude.
\end{proof}

\begin{theorem}\label{thm:cut-elim}
  If $P \longrightarrow^* I$ in SMAV, then $P \longrightarrow^* I$ in MAV.
\end{theorem}

\begin{proof}
  By Theorem \ref{thm:soundness}, $P \longrightarrow^* I$ in SMAV
  implies $I \leq \sem{P}$. Combined with Proposition
  \ref{prop:embedding-sem}, we have
  $I \leq \lnot \ChuEmbed(\LowerEmbed(P)$. By Definition
  \ref{defn:chu} of the ordering of Chu elements, we have
  $\ClosedLowerEmbed(P) \subseteq \ClosedDay{I}$. Since
  $P \in \ClosedLowerEmbed(P)$, we have $P \in \ClosedDay{I}$, which
  by definition means that $P \longrightarrow^* I$ in MAV.
\end{proof}
