\section{Mechanisation in Agda}
\label{sec:mechanisation}

We developed the proof in the previous two sections in the Agda proof
assistant \cite{Agda264}. The source code for this development is
available at this URL:
\begin{center}
  \url{https://github.com/bobatkey/semantic-cut-elimination}
\end{center}

The formalisation uses setoids to represent sets, reusing definitions
from the Agda Standard Library \cite{AgdaStdlib20}.
% Each of the
% definitions and propositions above links to the corresponding part of
% the development.

We did not attempt to formalise the syntactic proof of generalised
cut-elimination directly. We suspect that this would likely be
extremely involved due to the widespread and implicit use of syntactic
equalties when manipulating formulas, as well as the construction of
the relevant termination measures. The semantic constructions are
relatively straightforward to formalise in Agda.

As well as giving confidence in our results, a key benefit of
formalising the development in a proof assistant like Agda is that the
proof normalisation process (\Cref{thm:cut-elim}) is executable. For
example, we can normalise the one step SMAV proof using
\cref{rule:Axiom} of $\vP \vParr \vDual{\vP}$ where
$\vP = (\vUnit \vPlus \vUnit) \vSeq (\vUnit \vWith \vUnit)$ to a 38
step (of which 9 are $\vInferFrom$ steps) MAV proof, presented online
here:
\begin{center}
  \url{https://bobatkey.github.io/semantic-cut-elimination/MAV.Example.html#908}
\end{center}

% \bob{Wen: do you want to write something about the formalisation of
%   the congruence rules in the proof system?}
